<!doctype html>

<html lang="en-us">

<head>
  <title>Hui&#39;s blog</title>
  <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="Kiera: A Hugo theme for creative and technical writing." />
<meta name="author" content="Hui" /><meta property="og:title" content="Leetcode - Rotate Image" />
<meta property="og:description" content="You are given an n x n 2D matrix representing an image. Rotate the image by 90 degrees (clockwise). Note: You have to rotate the image in-place, which means you have to modify the input 2D matrix directly." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://dixon629.github.io/posts/leetcode-rotate-image/" />
<meta property="article:published_time" content="2019-11-30T18:28:14+08:00" />
<meta property="article:modified_time" content="2019-11-30T18:28:14+08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Leetcode - Rotate Image"/>
<meta name="twitter:description" content="You are given an n x n 2D matrix representing an image. Rotate the image by 90 degrees (clockwise). Note: You have to rotate the image in-place, which means you have to modify the input 2D matrix directly."/>

<meta name="generator" content="Hugo 0.59.1" />
    

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css" />
  <link rel="stylesheet" href="https://dixon629.github.io/fontawesome/css/all.min.css" />
  <link rel="stylesheet" href="https://hui-resources.oss-cn-beijing.aliyuncs.com/fonts-google.Roboto-Slab-Ruda.css" />
  
  <link rel="stylesheet" type="text/css" href="https://dixon629.github.io/css/styles.css" /></head>

<body>
  <div id="container">
    <header>
      <h1>
                <a href="https://dixon629.github.io/">Hui&rsquo;s blog</a>
            </h1>

      <ul id="social-media">
             <li>
               <a href="https://github.com/dixon629" title="GitHub">
               <i class="fab fa-github fa-lg"></i>
               </a>
             </li>
             <li>
               <a href="https://linkedin.com/in/%e8%be%89-%e5%85%b3-52a96098" title="LinkedIn">
               <i class="fab fa-linkedin fa-lg"></i>
               </a>
             </li>
      </ul>
      
      <p><em>Today is not easy, tomorrow is more difficult, but the day after tomorrow will be wonderful.</em></p>
      
    </header>

    
<nav>
    <ul>
        
        <li>
            <a class="" href="https://dixon629.github.io/categories">
                <i class="fa-li fa  fa-lg"></i><span>Categories</span>
            </a>
        </li>
        
        <li>
            <a class="" href="https://dixon629.github.io/posts/">
                <i class="fa-li fa  fa-lg"></i><span>Posts</span>
            </a>
        </li>
        
        <li>
            <a class="" href="https://dixon629.github.io/about/">
                <i class="fa-li fa  fa-lg"></i><span>About Me</span>
            </a>
        </li>
        
    </ul>
</nav>

    <main>




<article>

    <h1>Leetcode - Rotate Image</h1>

    
        <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2019-11-30T18:28:14&#43;08:00">Nov 30, 2019</time>
        </li>
        
        <li>
            Categories:
            <em>
                
                    
                    <a href="https://dixon629.github.io/categories/leetcode">Leetcode</a>
                
            </em>
        </li>
        

        
        <li>
            <em>
                
                    
                    <a href="https://dixon629.github.io/tags/leetcode">#Leetcode</a>
                
            </em>
        </li>
        

        <li>2 minutes read</li>
    </ul>
</aside>

    

    

<h5 id="you-are-given-an-n-x-n-2d-matrix-representing-an-image">You are given an n x n 2D matrix representing an image.</h5>

<h5 id="rotate-the-image-by-90-degrees-clockwise">Rotate the image by 90 degrees (clockwise).</h5>

<h5 id="note">Note:</h5>

<h5 id="you-have-to-rotate-the-image-in-place-which-means-you-have-to-modify-the-input-2d-matrix-directly-do-not-allocate-another-2d-matrix-and-do-the-rotation">You have to rotate the image in-place, which means you have to modify the input 2D matrix directly. DO NOT allocate another 2D matrix and do the rotation.</h5>

<p><strong>Example 1:</strong></p>

<blockquote>
<p>Given input matrix =
[
 [1,2,3],
 [4,5,6],
 [7,8,9]
],</p>

<p>rotate the input matrix in-place such that it becomes:
[
 [7,4,1],
 [8,5,2],
 [9,6,3]
]</p>
</blockquote>

<p><strong>Example 2:</strong>
&gt;
&gt;Given input matrix =
&gt;[
&gt;  [ 5, 1, 9,11],
&gt;  [ 2, 4, 8,10],
&gt;  [13, 3, 6, 7],
&gt;  [15,14,12,16]
&gt;],
&gt;
&gt;rotate the input matrix in-place such that it becomes:
&gt;[
&gt;  [15,13, 2, 5],
&gt;  [14, 3, 4, 1],
&gt;  [12, 6, 8, 9],
&gt;  [16, 7,10,11]
&gt;]</p>

<h3 id="solution">Solution:</h3>

<h4 id="solution-1-环形移位">Solution 1: 环形移位</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#960050;background-color:#1e0010">class Solution </span>{
    <span style="color:#960050;background-color:#1e0010">public void </span>rotate(<span style="color:#960050;background-color:#1e0010">int[][] matrix</span>) {
        <span style="color:#66d9ef">if</span>(matrix <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span>)
            <span style="color:#66d9ef">return</span>;
        
        <span style="color:#960050;background-color:#1e0010">int temp </span><span style="color:#f92672">=</span> 0;
        <span style="color:#960050;background-color:#1e0010">int n </span><span style="color:#f92672">=</span> matrix.<span style="color:#a6e22e">length</span>;
        <span style="color:#960050;background-color:#1e0010">Set&lt;String&gt; roated </span><span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HashSet();
        <span style="color:#66d9ef">for</span>(<span style="color:#960050;background-color:#1e0010">int rowIndex </span><span style="color:#f92672">=</span> 0; rowIndex <span style="color:#f92672">&lt;</span> n; rowIndex<span style="color:#f92672">++</span>){
            <span style="color:#66d9ef">for</span>(<span style="color:#960050;background-color:#1e0010">int colIndex </span><span style="color:#f92672">=</span>0; colIndex <span style="color:#f92672">&lt;</span> n; colIndex<span style="color:#f92672">++</span>){

                <span style="color:#960050;background-color:#1e0010">String pos </span><span style="color:#f92672">=</span> String.<span style="color:#a6e22e">valueOf</span>(rowIndex)<span style="color:#f92672">+</span>String.<span style="color:#a6e22e">valueOf</span>(colIndex);
                <span style="color:#66d9ef">if</span>(roated.<span style="color:#a6e22e">contains</span>(pos)) <span style="color:#66d9ef">continue</span>;
                
                <span style="color:#960050;background-color:#1e0010">int currentRowIndex </span><span style="color:#f92672">=</span> rowIndex;
                <span style="color:#960050;background-color:#1e0010">int currentColIndex </span><span style="color:#f92672">=</span> colIndex;
                <span style="color:#960050;background-color:#1e0010">int previous </span><span style="color:#f92672">=</span> matrix[rowIndex][colIndex];
  
                <span style="color:#66d9ef">do</span>{
                    <span style="color:#960050;background-color:#1e0010">int nextRowIndex </span><span style="color:#f92672">=</span> currentColIndex;
                    <span style="color:#960050;background-color:#1e0010">int nextColIndex </span><span style="color:#f92672">=</span> n<span style="color:#f92672">-</span>1<span style="color:#f92672">-</span>currentRowIndex;
                    temp <span style="color:#f92672">=</span> matrix[nextRowIndex][nextColIndex];
                    matrix[nextRowIndex][nextColIndex] <span style="color:#f92672">=</span> previous;
                    previous <span style="color:#f92672">=</span> temp;
                    
                    roated.<span style="color:#a6e22e">add</span>(String.<span style="color:#a6e22e">valueOf</span>(currentRowIndex)<span style="color:#f92672">+</span>String.<span style="color:#a6e22e">valueOf</span>(currentColIndex));
                    currentRowIndex <span style="color:#f92672">=</span> nextRowIndex;
                    currentColIndex <span style="color:#f92672">=</span> nextColIndex;
     
                } <span style="color:#66d9ef">while</span>(currentRowIndex <span style="color:#f92672">!=</span> rowIndex <span style="color:#f92672">||</span> currentColIndex<span style="color:#f92672">!=</span>colIndex);
                
            } 
        } 
    }
}</code></pre></div>
<h4 id="solution-2-先转270-再转-180">Solution 2: 先转270 再转-180</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#960050;background-color:#1e0010">class Solution </span>{
    <span style="color:#960050;background-color:#1e0010">public void </span>rotate(<span style="color:#960050;background-color:#1e0010">int[][] matrix</span>) {
        <span style="color:#66d9ef">if</span>(matrix <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span>)
            <span style="color:#66d9ef">return</span>;
        
        <span style="color:#75715e">// rotate 270
</span><span style="color:#75715e"></span>        <span style="color:#960050;background-color:#1e0010">int n </span><span style="color:#f92672">=</span> matrix.<span style="color:#a6e22e">length</span>;
        <span style="color:#66d9ef">for</span>(<span style="color:#960050;background-color:#1e0010">int i</span><span style="color:#f92672">=</span>0;i <span style="color:#f92672">&lt;</span> n;i<span style="color:#f92672">++</span>){
            <span style="color:#66d9ef">for</span>(<span style="color:#960050;background-color:#1e0010">int j</span><span style="color:#f92672">=</span>i; <span style="color:#960050;background-color:#1e0010">j&lt; n</span>; j<span style="color:#f92672">++</span>){
                <span style="color:#960050;background-color:#1e0010">int temp </span><span style="color:#f92672">=</span> matrix[i][j];
                matrix[i][j] <span style="color:#f92672">=</span> matrix[j][i];
                matrix[j][i] <span style="color:#f92672">=</span> temp; 
            }
        }
        <span style="color:#75715e">// rotate -180
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span>(<span style="color:#960050;background-color:#1e0010">int i</span><span style="color:#f92672">=</span>0;i <span style="color:#f92672">&lt;</span>n;i<span style="color:#f92672">++</span>){
            <span style="color:#66d9ef">for</span>(<span style="color:#960050;background-color:#1e0010">int j</span><span style="color:#f92672">=</span>0; <span style="color:#960050;background-color:#1e0010">j&lt; n</span><span style="color:#f92672">/</span>2; j<span style="color:#f92672">++</span>){
                <span style="color:#960050;background-color:#1e0010">int temp </span><span style="color:#f92672">=</span>  matrix[i][j];
                matrix[i][j] <span style="color:#f92672">=</span> matrix[i][n<span style="color:#f92672">-</span>1<span style="color:#f92672">-</span>j];
                matrix[i][n<span style="color:#f92672">-</span>1<span style="color:#f92672">-</span>j] <span style="color:#f92672">=</span> temp;
            }
        }
    }
}</code></pre></div>
<h4 id="solution-3-官方答案-循环移动">Solution 3: 官方答案，循环移动</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#960050;background-color:#1e0010">class Solution </span>{
  <span style="color:#960050;background-color:#1e0010">public void </span>rotate(<span style="color:#960050;background-color:#1e0010">int[][] matrix</span>) {
    <span style="color:#960050;background-color:#1e0010">int n </span><span style="color:#f92672">=</span> matrix.<span style="color:#a6e22e">length</span>;
    <span style="color:#66d9ef">for</span> (<span style="color:#960050;background-color:#1e0010">int i </span><span style="color:#f92672">=</span> 0; i <span style="color:#f92672">&lt;</span> n <span style="color:#f92672">/</span> 2 <span style="color:#f92672">+</span> n <span style="color:#f92672">%</span> 2; i<span style="color:#f92672">++</span>) {
      <span style="color:#66d9ef">for</span> (<span style="color:#960050;background-color:#1e0010">int j </span><span style="color:#f92672">=</span> 0; j <span style="color:#f92672">&lt;</span> n <span style="color:#f92672">/</span> 2; j<span style="color:#f92672">++</span>) {
        <span style="color:#960050;background-color:#1e0010">int[] tmp </span><span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">int</span>[4];
        <span style="color:#960050;background-color:#1e0010">int row </span><span style="color:#f92672">=</span> i;
        <span style="color:#960050;background-color:#1e0010">int col </span><span style="color:#f92672">=</span> j;
        <span style="color:#66d9ef">for</span> (<span style="color:#960050;background-color:#1e0010">int k </span><span style="color:#f92672">=</span> 0; k <span style="color:#f92672">&lt;</span> 4; k<span style="color:#f92672">++</span>) {
          tmp[k] <span style="color:#f92672">=</span> matrix[row][col];
          <span style="color:#960050;background-color:#1e0010">int x </span><span style="color:#f92672">=</span> row;
          row <span style="color:#f92672">=</span> col;
          col <span style="color:#f92672">=</span> n <span style="color:#f92672">-</span> 1 <span style="color:#f92672">-</span> x;
        }
        <span style="color:#66d9ef">for</span> (<span style="color:#960050;background-color:#1e0010">int k </span><span style="color:#f92672">=</span> 0; k <span style="color:#f92672">&lt;</span> 4; k<span style="color:#f92672">++</span>) {
          matrix[row][col] <span style="color:#f92672">=</span> tmp[(k <span style="color:#f92672">+</span> 3) <span style="color:#f92672">%</span> 4];
          <span style="color:#960050;background-color:#1e0010">int x </span><span style="color:#f92672">=</span> row;
          row <span style="color:#f92672">=</span> col;
          col <span style="color:#f92672">=</span> n <span style="color:#f92672">-</span> 1 <span style="color:#f92672">-</span> x;
        }
      }
    }
  }
}</code></pre></div>
<h3 id="conclusion">Conclusion:</h3>

<ol>
<li>注意观察数组转换的特性，如果所有元素行列互换，其实就是转了270度，要达到旋转90度的效果，就需要再旋转-180度，其实就是行数组的元素反转</li>
<li>第3种方案的循环条件比较难确定</li>
</ol>


</article>


<section class="post-nav">
    <ul>
        
        <li>
            <a href="https://dixon629.github.io/posts/leetcode-rotate-array/"><i class="fa fa-chevron-circle-left"></i> Leetcode - Rotate Array</a>
        </li>
        
        
        <li>
            <a href="https://dixon629.github.io/posts/leetcode-valid-sudoku/">Leetcode - Valid Sudoku <i class="fa fa-chevron-circle-right"></i> </a>
        </li>
        
    </ul>
</section>
    





</main>
    <footer>
        <h6>Copyright &copy; 2020 - Hui |
            Rendered by <a href="https://gohugo.io" title="Hugo">Hugo</a> |
            <a href="https://dixon629.github.io/index.xml">Subscribe </a></h6>
    </footer>
</div>
<script src="https://dixon629.github.io/js/scripts.js"></script>

</body>

</html>

